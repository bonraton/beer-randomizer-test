(function(){"use strict";var e={4384:function(e,t,n){var r=n(9242),a=n(3396);function i(e,t,n,r,i,o){const s=(0,a.up)("HeaderComponent"),l=(0,a.up)("MainComponent"),u=(0,a.up)("FooterComponent");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(s),(0,a.Wm)(l),(0,a.Wm)(u)],64)}var o=n(7139);const s={class:"header"},l=(0,a._)("h2",{class:"header__title"},"Beer randomizer",-1),u={class:"profile"},c={class:"profile__info"},d={class:"profile__image-container"},p=["src"];function m(e,t,n,i,m,b){const h=(0,a.up)("PreloaderComponent");return(0,a.wg)(),(0,a.iD)("header",s,[l,(0,a._)("div",u,[(0,a._)("ul",c,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(m.profile,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("li",{key:e.id,class:"profile__item"},(0,o.zw)(e),1)),[[r.F8,"id"!==t&&"avatar"!==t]]))),128))]),(0,a._)("div",d,[(0,a.wy)((0,a._)("img",{src:this.profile.avatar,onError:t[0]||(t[0]=(...e)=>b.onAvatarError&&b.onAvatarError(...e)),class:"profile__image",alt:"avatar"},null,40,p),[[r.F8,!m.isLoading]]),(0,a.Wm)(h,{isVisible:m.isLoading},null,8,["isVisible"])])])])}const b="https://random-data-api.com/api/beer/random_beer",h="https://random-data-api.com/api/users/random_user",f=/[0-9]/gi,_=.55,g=.65,w=0,v=610,C=77,y={low:"Keep on party",medium:"You'd better stop",strong:"Probably you need a doctor",extremal:"You need a doctor, urgently!",lethal:"You must be dead!"},I={low:1,medium:2,strong:3,extremal:4},V={symbol:"Wrong symbol",weight:"Too heavy",alc:"You are dead",min:"To low",required:"Fill in the form"},A={id:"419",brand:"The most famous brand",name:"The best name",style:"The strangest style",ibu:"The highest Ibu",blg:"Dark as night",alc:"Stronger than rum"};function B(e){return(new Date).getFullYear()-e.slice(0,4)+" years"}function D(e,t,n){const r=e.replace(/%/gi,"").replace(/,/g,"."),a=r*_*n*10,i=a/(t*g);return i.toFixed(2)}function S(e){switch(!0){case e<I.low:return y.low;case e<I.medium&&e>I.low:return y.medium;case e<I.strong&&e>I.medium:return y.strong;case e<I.extremal&&e>I.strong:return y.extremal;case e>=I.extremal:return y.lethal;default:return""}}async function x(){const e=await fetch(h),t=await e.json();return{name:`${t.first_name} ${t.last_name}`,age:B(t.date_of_birth),position:t.employment.title,id:t.id,avatar:t.avatar}}const k={class:"preloader"};function O(e,t,n,i,o,s){return(0,a.wy)(((0,a.wg)(),(0,a.iD)("span",k,null,512)),[[r.F8,n.isVisible]])}var j={name:"PreloaderComponent",props:{isVisible:{type:Boolean,required:!0}}},q=n(89);const z=(0,q.Z)(j,[["render",O]]);var E=z,F={components:{PreloaderComponent:E},name:"HeaderComponent",data(){return{profile:{},isLoading:!1}},methods:{onAvatarError(e){let t=0;this.isLoading=!0,t<4?setTimeout((()=>{t+=t+1,e.target.src=this.profile.avatar,this.isLoading=!1}),3e3):clearInterval()}},async created(){try{this.profile=await x()}catch(e){console.log(e)}}};const T=(0,q.Z)(F,[["render",m]]);var W=T;const Y={class:"footer"},Z=(0,a._)("p",{class:"footer__title"},"2022 Oleg Zabolotskii",-1),P=[Z];function H(e,t,n,r,i,o){return(0,a.wg)(),(0,a.iD)("footer",Y,P)}var M={name:"FooterComponent"};const N=(0,q.Z)(M,[["render",H]]);var L=N;const K={class:"main"},$={class:"main-container"},G=["disabled"];function U(e,t,n,r,i,o){const s=(0,a.up)("BeerDescription"),l=(0,a.up)("BeerIllustrations"),u=(0,a.up)("BacCalculator");return(0,a.wg)(),(0,a.iD)("main",K,[(0,a._)("div",$,[(0,a.Wm)(s,{isVisible:i.isCardVisible,beerInfo:i.beerInfo},null,8,["isVisible","beerInfo"]),(0,a._)("button",{disabled:o.isDisabled,onClick:t[0]||(t[0]=(...e)=>o.getBeerInfo&&o.getBeerInfo(...e)),onTouchstart:t[1]||(t[1]=(...e)=>o.getBeerInfo&&o.getBeerInfo(...e)),class:"main__button"}," Click me ",40,G),(0,a.Wm)(l,{isStarted:i.isAnimationStarted},null,8,["isStarted"]),(0,a.Wm)(u,{isVisible:i.isCardVisible},null,8,["isVisible"])])])}async function J(){const e=await fetch(b),t=await e.json();return{id:t.id,brand:t.brand,name:t.name,style:t.style,ibu:t.ibu,blg:t.blg,alc:t.alcohol}}const Q=(0,a._)("h3",{class:"beer-card__title"},"Beer description",-1),R={class:"beer-card__item"},X={class:"beer-card__item beer-card__item_accent"};function ee(e,t,n,i,s,l){return(0,a.wg)(),(0,a.iD)("section",{class:(0,o.C_)(n.isVisible?"beer-card beer-card_description":"beer-card beer-card_description beer-card_hidden")},[Q,((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.beerInfo,((e,t)=>(0,a.wy)(((0,a.wg)(),(0,a.iD)("ul",{key:t,class:"beer-card__list"},[(0,a._)("li",R,(0,o.zw)(t)+" :",1),(0,a._)("li",X,(0,o.zw)(e),1)])),[[r.F8,"id"!==t]]))),128))],2)}var te={name:"BeerDescription",data(){return{defaultInfo:A}},props:{beerInfo:{type:Object,required:!0},isVisible:{type:Boolean,required:!0},computed:{beerInfoComputed(){return A.alc}}}};const ne=(0,q.Z)(te,[["render",ee]]);var re=ne,ae=n.p+"img/beer_left.dd799e97.svg",ie=n.p+"img/beer_right.02ed3f59.svg";const oe={class:"main__illustrations"};function se(e,t,n,r,i,s){return(0,a.wg)(),(0,a.iD)("section",oe,[(0,a._)("img",{class:(0,o.C_)("main__illustration "+(n.isStarted?"main__illustration_left":"")),src:ae,alt:"pint-beer"},null,2),(0,a._)("img",{class:(0,o.C_)("main__illustration "+(n.isStarted?"main__illustration_right":"")),src:ie,alt:"pint-beer"},null,2)])}var le={props:{isStarted:{type:Boolean,required:!0}},name:"BeerIllustrations"};const ue=(0,q.Z)(le,[["render",se]]);var ce=ue;const de=(0,a._)("h3",{class:"beer-card__title"},"BAC calculator",-1),pe={class:"form"},me=["disabled"];function be(e,t,n,i,s,l){const u=(0,a.up)("InputComponent");return(0,a.wg)(),(0,a.iD)("section",{class:(0,o.C_)(l.beerCardClass)},[de,(0,a._)("form",pe,[(0,a.Wm)(u,{inputName:"weight",labelValue:"Your weight in KG",inputValue:s.weight,spanError:l.weightValidation,onInput:l.onInputChange},null,8,["inputValue","spanError","onInput"]),(0,a.Wm)(u,{inputName:"pintAmount",labelValue:"Pint amount",inputValue:s.pintAmount,spanError:l.alcValidation,onInput:l.onInputChange},null,8,["inputValue","spanError","onInput"]),(0,a._)("p",{class:(0,o.C_)(l.textClass)},"Your BAC is around "+(0,o.zw)(s.bac)+" %",3),(0,a._)("p",{class:(0,o.C_)(`${l.textClass} beer-card__text_small`)},(0,o.zw)(l.jokeComputed),3),(0,a._)("button",{onClick:t[0]||(t[0]=(0,r.iM)(((...e)=>l.onSubmit&&l.onSubmit(...e)),["prevent"])),disabled:l.isValidated,class:"beer-card__button"}," Calculate ",8,me)])],2)}const he=["for"],fe={class:"input-container"},_e={class:"input__error"},ge=["id","name","value"];function we(e,t,n,i,s,l){return(0,a.wg)(),(0,a.iD)("label",{for:n.inputName,class:"input__label"},[(0,a.Uk)((0,o.zw)(n.labelValue)+" ",1),(0,a._)("div",fe,[(0,a._)("span",_e,(0,o.zw)(n.spanError),1),(0,a._)("input",{onInput:t[0]||(t[0]=(0,r.iM)(((...e)=>l.onInputChange&&l.onInputChange(...e)),["prevent"])),class:"input",id:n.inputName,name:n.inputName,type:"text",value:n.inputValue,autocomplete:"off",maxlength:"3"},null,40,ge)])],8,he)}var ve={name:"InputComponent",props:{inputName:{type:String,required:!0},labelValue:{type:String,required:!0},inputValue:{type:String,required:!0},spanError:{type:String,required:!0}},methods:{onInputChange(e,t){this.$emit(e.target.name,t)}}};const Ce=(0,q.Z)(ve,[["render",we]]);var ye=Ce;function Ie(e,t){const n=e?e.match(f):[];switch(!1){case null!==n:return t;case n.length>=e.length:return t;case e.length>w:return V.required;default:return""}}function Ve(e,t,n){switch(!1){case e<=t:return n;case!e.startsWith(w):return V.min;default:return Ie(e,n)}}var Ae={components:{InputComponent:ye},name:"BacCalculator",props:{isVisible:{type:Boolean,required:!0}},data(){return{bac:0,weight:"70",pintAmount:"1",joke:"",errors:{weight:"",amount:""},isDisabled:!1}},computed:{jokeComputed(){return S(this.bac)},beerCardClass(){return this.isVisible?"beer-card beer-card_form":"beer-card beer-card_hidden"},isValidated(){return this.weightValidation.length>1||this.alcValidation.length>1},weightValidation(){const e=Ie(this.weight,V.symbol),t=Ve(this.weight,v,V.weight);return e||t},alcValidation(){const e=Ie(this.pintAmount,V.symbol),t=Ve(this.pintAmount,C,V.alc);return e||t},textClass(){return this.bac>0?"beer-card__text":"beer-card__text beer-card__text_hidden"}},methods:{onSubmit(){const e=localStorage.getItem("beerAlc")||"4,5%";this.bac=D(e,this.weight,this.pintAmount)},onInputChange(e){this[e.target.id]=e.target.value}}};const Be=(0,q.Z)(Ae,[["render",be]]);var De=Be,Se=n.p+"media/beer_sound_shorter.7787916a.mp3",xe={components:{BeerDescription:re,BeerIllustrations:ce,BacCalculator:De},name:"MainComponent",data(){return{beerInfo:A,isCardVisible:!1,isAnimationStarted:!1,sound:new Audio(Se)}},computed:{isDisabled(){return this.isAnimationStarted}},methods:{async getBeerInfo(){try{this.onPlayAudio(this.sound),this.isAnimationStarted=!0,this.beerInfo=await J(),this.isCardVisible=!0,localStorage.setItem("beerAlc",this.beerInfo.alc),setTimeout((()=>{this.isAnimationStarted=!1}),1700)}catch(e){console.log(e)}},onPlayAudio(e){e&&e.play()}}};const ke=(0,q.Z)(xe,[["render",U]]);var Oe=ke,je={name:"App",components:{HeaderComponent:W,FooterComponent:L,MainComponent:Oe}};const qe=(0,q.Z)(je,[["render",i]]);var ze=qe;(0,r.ri)(ze).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var i=t[r]={exports:{}};return e[r](i,i.exports,n),i.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,i){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],i=e[c][2];for(var s=!0,l=0;l<r.length;l++)(!1&i||o>=i)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(s=!1,i<o&&(o=i));if(s){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}i=i||0;for(var c=e.length;c>0&&e[c-1][2]>i;c--)e[c]=e[c-1];e[c]=[r,a,i]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.p="/beer-randomizer-test/"}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,i,o=r[0],s=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(l)var c=l(n)}for(t&&t(r);u<o.length;u++)i=o[u],n.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return n.O(c)},r=self["webpackChunkbeer_randomizer"]=self["webpackChunkbeer_randomizer"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(4384)}));r=n.O(r)})();
//# sourceMappingURL=app.80fed64a.js.map